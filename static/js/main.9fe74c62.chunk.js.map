{"version":3,"sources":["dict-ez/ImageUtils.js","dict-ez/OcrService.js","dict-ez/OcrPage.js","dict-ez/config.js","dict-ez/TtsService.js","dict-ez/TtsPage.js","dict-ez/DictEzApp.js","App.js","serviceWorker.js","index.js"],"names":["getBase64","file","_cbProcessImage","_cbProcessError","reader","FileReader","readAsArrayBuffer","onload","srcOrientation","buffer","view","DataView","getUint16","length","byteLength","offset","marker","getUint32","little","tags","i","getOrientation","result","base64","arrayBuffer","chunk","encodings","bytes","Uint8Array","byteRemainder","mainLength","base64ArrayBuffer","img","Image","setAttribute","height","Math","floor","width","canvas","document","createElement","ctx","getContext","indexOf","transform","drawImage","toDataURL","onerror","getOcrLang","_locale","startsWith","TOOLBAR_SELECT_LANG","OcrPage","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","toolbar_msg","lang","LANG_NONE","isPostingOcr","scannedFileBase64","errorTitle","errorContent","handleReset","bind","assertThisInitialized","handleCapturing","handleErrorDialogCancel","processBase64Image","processBase64ImageError","processOcrContent","processOcrError","setState","_base64Url","_error","console","log","JSON","stringify","_response","completeText","data","ParsedResults","forEach","parsedResult","ParsedText","onOcrCompleted","_event","resetAll","target","files","_lang","getElementById","click","_this2","react_default","a","react_onsenui","renderToolbar","className","onClick","isOpen","indeterminate","onCancel","cancelable","type","id","name","accept","capture","style","display","onChange","event","value","src","alt","_ocrApiKey","_base64Image","_cbProcessResp","urlOcrApi","formData","FormData","append","axios","post","then","response","catch","error","callOcrSpace","modifier","hangleLangBtnClick","LANG_ZH_HK","LANG_ZH_TW","LANG_EN","Component","callVoiceRss","_voiceRssApiKey","_content","_speed","urlVoiceRss","getVoiceRssLang","TOOLBAR_MSG_INIT","DEFAULT_SPEECH_SPEED","TtsPage","ttsContent","ttsContents","trim","split","speechSpeed","isPostingTts","handleBackHome","handlePlay","handlePlayAll","handleUpdateItem","handleMoveItem","processTtsContent","processTtsError","playVoice","onBackToHome","_sentence","playFromArray","slice","arrContents","str","voiceContent","undefined","encodeURI","shift","respData","_idx","prevState","map","item","idx","_step","thisValue","nextValue","_voiceContent","audio","querySelector","paused","ended","load","playPromise","play","_this3","verticalAlign","textAlign","parseInt","controls","dataSource","renderRow","row","key","fontSize","float","DictEzApp","changeToTtsPage","backToOcrPage","_textContent","src_dict_ez_OcrPage","dict_ez_TtsPage","App","dict_ez_DictEzApp","Boolean","window","location","hostname","match","ReactDOM","render","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9fe74c62.chunk.js","sourcesContent":["/**\n * Process and display Base 64 code from the given Image file\n * @param {*} file              Binary of Image file\n * @param {*} _cbProcessImage   Call back function after processing the Image file\n * @param {*} _cbProcessError   Call back function after an error happens during the process\n */\nexport function getBase64(file, _cbProcessImage, _cbProcessError) {\n    var reader = new FileReader();\n    reader.readAsArrayBuffer(file);     // Read the file into binary buffer\n\n    // Define the function routine when loading the file\n    reader.onload = function () {\n        var srcOrientation = getOrientation(reader.result);\n        var base64 = 'data:image/jpg;base64,' + base64ArrayBuffer(reader.result);\n        var img = new Image();\n        img.setAttribute(\"src\", base64);\n\n        // Define the function routine when loading the image\n        img.onload = function() {\n            var width = 800;\n            var height = Math.floor(img.height * (width / img.width));\n            var canvas = document.createElement('canvas');\n            canvas.width = width;\n            canvas.height = height;\n            var ctx = canvas.getContext(\"2d\");\n\n            // set proper canvas dimensions before transform & export\n            if ([5,6,7,8].indexOf(srcOrientation) > -1) {\n                canvas.width = height;\n                canvas.height = width;\n            } else {\n                canvas.width = width;\n                canvas.height = height;\n            }\n\n            // transform context before drawing image\n            switch (srcOrientation) {\n                case 2: ctx.transform(-1, 0, 0, 1, width, 0); break;\n                case 3: ctx.transform(-1, 0, 0, -1, width, height ); break;\n                case 4: ctx.transform(1, 0, 0, -1, 0, height ); break;\n                case 5: ctx.transform(0, 1, 1, 0, 0, 0); break;\n                case 6: ctx.transform(0, 1, -1, 0, height , 0); break;\n                case 7: ctx.transform(0, -1, -1, 0, height , width); break;\n                case 8: ctx.transform(0, -1, 1, 0, 0, width); break;\n                default: ctx.transform(1, 0, 0, 1, 0, 0);\n            }\n\n            // Draw the canvas context\n            ctx.drawImage(img, 0, 0, width, height);\n            // Go to the call back function with the resulted Base64 code of the image\n            _cbProcessImage(canvas.toDataURL(\"image/jpeg\",0.7));\n        }\n    };\n    // Define the error function routine with the call back function routine of the error handler\n    reader.onerror = _cbProcessError;\n}\n\n/**\n * Generate Base 64 code by reading the binary buffer\n * @param {*} arrayBuffer \n */\nexport function base64ArrayBuffer(arrayBuffer) {\n    var base64    = ''\n    var encodings = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n\n    var bytes         = new Uint8Array(arrayBuffer)\n    var byteLength    = bytes.byteLength\n    var byteRemainder = byteLength % 3\n    var mainLength    = byteLength - byteRemainder\n\n    var a, b, c, d\n    var chunk\n\n    // Main loop deals with bytes in chunks of 3\n    for (var i = 0; i < mainLength; i = i + 3) {\n        // Combine the three bytes into a single integer\n        chunk = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2]\n\n        // Use bitmasks to extract 6-bit segments from the triplet\n        a = (chunk & 16515072) >> 18 // 16515072 = (2^6 - 1) << 18\n        b = (chunk & 258048)   >> 12 // 258048   = (2^6 - 1) << 12\n        c = (chunk & 4032)     >>  6 // 4032     = (2^6 - 1) << 6\n        d = chunk & 63               // 63       = 2^6 - 1\n\n        // Convert the raw binary segments to the appropriate ASCII encoding\n        base64 += encodings[a] + encodings[b] + encodings[c] + encodings[d]\n    }\n\n    // Deal with the remaining bytes and padding\n    if (byteRemainder == 1) {\n        chunk = bytes[mainLength]\n\n        a = (chunk & 252) >> 2 // 252 = (2^6 - 1) << 2\n\n        // Set the 4 least significant bits to zero\n        b = (chunk & 3)   << 4 // 3   = 2^2 - 1\n\n        base64 += encodings[a] + encodings[b] + '=='\n    } else if (byteRemainder == 2) {\n        chunk = (bytes[mainLength] << 8) | bytes[mainLength + 1]\n\n        a = (chunk & 64512) >> 10 // 64512 = (2^6 - 1) << 10\n        b = (chunk & 1008)  >>  4 // 1008  = (2^6 - 1) << 4\n\n        // Set the 2 least significant bits to zero\n        c = (chunk & 15)    <<  2 // 15    = 2^4 - 1\n\n        base64 += encodings[a] + encodings[b] + encodings[c] + '='\n    }\n\n    return base64\n}\n\n/**\n * Get the image orientation\n * @param {*} buffer    Binary buffer of the image\n */\nexport function getOrientation(buffer) {\n    var view = new DataView(buffer);\n    if (view.getUint16(0, false) != 0xFFD8) return -2;\n    var length = view.byteLength, offset = 2;\n    while (offset < length) {\n    var marker = view.getUint16(offset, false);\n    offset += 2;\n    if (marker == 0xFFE1) {\n        if (view.getUint32(offset += 2, false) != 0x45786966) return -1;\n        var little = view.getUint16(offset += 6, false) == 0x4949;\n        offset += view.getUint32(offset + 4, little);\n        var tags = view.getUint16(offset, little);\n        offset += 2;\n        for (var i = 0; i < tags; i++)\n        if (view.getUint16(offset + (i * 12), little) == 0x0112)\n            return view.getUint16(offset + (i * 12) + 8, little);\n    }\n    else if ((marker & 0xFF00) != 0xFF00) break;\n    else offset += view.getUint16(offset, false);\n    }\n    return (-1);\n}","import axios from 'axios';\n\n/**\n * Call OCR Service Endpoint\n * <p>\n * Ref: https://ocr.space/\n * @param {*} _ocrApiKey        OCR Space API Key\n * @param {*} _lang             Language Selected\n * @param {*} _base64Image      Base 64 Code of Image\n * @param {*} _cbProcessResp    Call back function when processing Response object\n * @param {*} _cbProcessError   Call back function when an error happens during the process\n */\nexport function callOcrSpace(_ocrApiKey, _lang, _base64Image, _cbProcessResp, _cbProcessError) {\n    const urlOcrApi = \"https://api.ocr.space/parse/image\";\n    var formData = new FormData();\n        formData.append('apikey', _ocrApiKey);\n        formData.append('base64Image', _base64Image);\n        formData.append('language', getOcrLang(_lang));\n    console.log('POST to [' + urlOcrApi + '] started');    \n    axios.post(urlOcrApi, formData)\n    .then(function (response) {\n        _cbProcessResp(response);\n    })\n    .catch(function (error) {\n        _cbProcessError(error);\n    })\n    .then(function () {\n        // always executed\n        console.log('POST to [' + urlOcrApi + '] completed');\n    })\n}\n\n/**\n * Get OCR Space Language Code \n * @param {*} _locale   Locale Code used in this app\n */\nexport const getOcrLang = (_locale) => {\n    if (_locale) {\n        if (_locale.startsWith('zh')) {\n            return 'cht';\n        } else {\n            return 'eng';\n        }\n    } else {\n        return 'eng';\n    }\n}","import React, { Component}  from 'react';\nimport { Page, Toolbar, BottomToolbar, Segment, ToolbarButton, Modal, ProgressCircular, AlertDialog, Button } from 'react-onsenui';\nimport { LANG_NONE, LANG_ZH_HK, LANG_ZH_TW, LANG_EN } from './DictEzApp.js';\nimport { getBase64 } from './ImageUtils.js';\nimport { callOcrSpace } from './OcrService.js';\nimport { OCR_SPACE_API_KEY } from './config.js';\n\n// Webpack CSS import\nimport 'onsenui/css/onsenui.css';\nimport '../onsenui/css/onsen-css-components.min.css';\nimport '../onsenui/css/theme.css';\n\n// Specific CSS for OCR Page\nimport './OcrPage.css';\n\n// Constant values for Instruction Messages\nconst TOOLBAR_SELECT_LANG = '默書易 Dict-Ez：先選擇語言';\nconst TOOLBAR_START_OCR = '默書易 Dict-Ez：按下圖象辨析';\n\n/**\n * OCR Page Component\n */\nclass OcrPage extends Component {\n    /**\n     * Default Constructor\n     * @param {*} props     Inbound Properties\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            toolbar_msg: TOOLBAR_SELECT_LANG\n            , lang: LANG_NONE\n            , isPostingOcr: false\n            , scannedFileBase64: ''\n            , errorTitle: ''\n            , errorContent: ''\n        }\n\n        this.handleReset = this.handleReset.bind(this);\n        this.handleCapturing = this.handleCapturing.bind(this);\n        this.handleErrorDialogCancel = this.handleErrorDialogCancel.bind(this);\n\n        this.processBase64Image = this.processBase64Image.bind(this);\n        this.processBase64ImageError = this.processBase64ImageError.bind(this);\n        this.processOcrContent = this.processOcrContent.bind(this);\n        this.processOcrError = this.processOcrError.bind(this);\n    }\n    \n    /**\n     * Reset all state values to the default ones\n     */\n    resetAll() {\n        this.setState({\n            toolbar_msg: TOOLBAR_SELECT_LANG\n            , lang: LANG_NONE\n            , isPostingOcr: false\n            , scannedFileBase64: ''\n            , errorTitle: ''\n            , errorContent: ''\n        });\n    }\n\n    /**\n     * Call this method when Base64 code generation is successfully complete\n     * @param {*} _base64Url    Base 64 code\n     */\n    processBase64Image(_base64Url) {\n        this.setState({\n            scannedFileBase64: _base64Url\n        });\n        this.setState({\n            toolbar_msg: TOOLBAR_START_OCR\n        });        \n    }\n\n    /**\n     * Call this method when Base64 code generation has an error\n     * @param {*} _error    Error message\n     */\n    processBase64ImageError(_error) {\n        console.log(_error);\n        this.setState({\n            errorTitle: 'BASE64 編碼異常'\n            , errorContent: JSON.stringify(_error)\n        });\n    }\n\n    /**\n     * Call this method when Response is returned from OCR Service Endpoint\n     * @param {*} _response     Response Object\n     */\n    processOcrContent(_response) {\n        var completeText = '';\n        _response.data.ParsedResults.forEach(function(parsedResult) {\n            completeText += parsedResult.ParsedText + \"\\n\";\n        });\n        this.setState({\n            isPostingOcr: false\n        });\n        this.props.onOcrCompleted(this.state.lang, completeText); \n        console.log(completeText);\n    }\n\n    /**\n     * Call this method when Error is returned from OCR Service Endpoint\n     * @param {*} _error    Error Object\n     */\n    processOcrError(_error) {\n        console.log(_error);\n        this.setState({\n            isPostingOcr: false\n            , errorTitle: '文字辨識異常'\n            , errorContent: JSON.stringify(_error)\n        });\n    }\n\n    /**\n     * Event Handler when Reset is requested\n     * @param {*} _event    Event of this handler\n     */\n    handleReset(_event) {\n        this.resetAll();\n    }\n\n    /**\n     * Event Handler to capture Camera Input Event\n     * @param {} _event    Event of this handler\n     */\n    handleCapturing(_event) {\n        getBase64(_event.target.files[0], this.processBase64Image, this.processBase64ImageError);\n    }\n\n    /**\n     * Event Handler when a language button is clicked\n     * @param {*} _lang     Language is selected\n     * @param {*} _event    Event of this handler \n     */\n    hangleLangBtnClick(_lang, _event) {\n        document.getElementById(\"imgScanned\").click()\n        this.setState({\n            lang: _lang\n        })\n    }\n\n    /**\n     * Event Handler of cancelling an error dialog box\n     * @param {*} _event    Event of this handler \n     */\n    handleErrorDialogCancel(_event) {\n        if (this.state.errorTitle.length > 0) {\n            this.setState({\n                errorTitle: ''\n                , errorContent: ''\n            });\n        }\n    }\n\n    /**\n     * React JS Render function\n     */\n    render() {\n        return(\n<Page renderToolbar={() => \n    <Toolbar>\n        <div className=\"center\">\n{ this.state.toolbar_msg }\n        </div>\n        <div className=\"right\">\n            <ToolbarButton onClick={this.handleReset}><i className=\"zmdi zmdi-refresh\"></i></ToolbarButton>\n        </div>\n    </Toolbar>\n}>\n    <Modal isOpen={this.state.isPostingOcr}>\n      <p>Loading ...</p>\n      <ProgressCircular indeterminate />\n    </Modal>\n    <AlertDialog\n        isOpen={this.state.errorTitle.length > 0}\n        onCancel={this.handleErrorDialogCancel}        \n        cancelable\n        >\n        <div className=\"alert-dialog-title\"\n            onClick={this.handleErrorDialogCancel}\n        ><b>{this.state.errorTitle}</b></div>\n        <div className=\"alert-dialog-content\">{this.state.errorContent}</div>\n        <div className=\"alert-dialog-footer\">\n            <Button onClick={this.handleErrorDialogCancel} className=\"alert-dialog-button\">Ok</Button>\n        </div>\n   </AlertDialog>\n    <div className='div-bgimg'>\n        <input type=\"file\" id=\"imgScanned\" name=\"imgScanned\" accept=\"image/*\" capture=\"camera\" \n            style={{display:'none'}}\n            onChange={this.handleCapturing}\n            onClick={\n                (event) => {\n                    event.target.value = null;\n                }\n            } \n        />        \n{ this.state.scannedFileBase64 && \n    <img src={ this.state.scannedFileBase64 } alt=\"Optical Character Recognition\" height=\"100%\" \n            onClick={(_event) => {\n                this.setState({\n                    isPostingOcr: true\n                })\n                callOcrSpace(\n                    OCR_SPACE_API_KEY\n                    , this.state.lang\n                    , this.state.scannedFileBase64\n                    , this.processOcrContent\n                    , this.processOcrError\n                );    \n            }}\n    />\n}\n    </div>\n    <BottomToolbar modifier=\"material\">\n        <Segment style={{width: '100%'}} modifier=\"material\">\n            <ToolbarButton\n                onClick={\n                    (_event) => {this.hangleLangBtnClick(LANG_ZH_HK, _event)}\n                }\n            >廣東話</ToolbarButton>\n            <ToolbarButton\n                onClick={\n                    (_event) => {this.hangleLangBtnClick(LANG_ZH_TW, _event)}\n                }\n            >普通語（繁）</ToolbarButton>\n            <ToolbarButton\n                onClick={\n                    (_event) => {this.hangleLangBtnClick(LANG_EN, _event)}\n                }\n            >English</ToolbarButton>\n        </Segment>     \n    </BottomToolbar>    \n</Page>\n        );\n    }\n}\n\n// Default exported component\nexport default OcrPage;","export const OCR_SPACE_API_KEY = 'ff0751fd8988957';\nexport const VOICE_RSS_API_KEY = '679dc139ae34411489ad95b33225e6ed';","import axios from 'axios';\n\n/**\n * Call TTS Service Endpoint\n * @param {*} _voiceRssApiKey   Voice RSS API Key\n * @param {*} _lang             Language of the text\n * @param {*} _content          Text Content\n * @param {*} _speed            Speed of the Speech\n * @param {*} _cbProcessResp    Call back function when processing Response object\n * @param {*} _cbProcessError   Call back function when an error happens during the process\n */\nexport function callVoiceRss(_voiceRssApiKey, _lang, _content, _speed, _cbProcessResp, _cbProcessError) {\n    const urlVoiceRss = \"https://api.voicerss.org/\";\n    var formData = new FormData();\n        formData.append('key', _voiceRssApiKey);\n        formData.append('src', _content);\n        formData.append('hl', getVoiceRssLang(_lang));\n        formData.append('b64', 'true');\n        formData.append('r', _speed);\n    console.log('POST to [' + urlVoiceRss + '] started');    \n    axios.post(urlVoiceRss, formData)\n    .then(function (response) {\n        _cbProcessResp(response);\n    })\n    .catch(function (error) {\n        _cbProcessError(error);\n    })\n    .then(function () {\n        // always executed\n        console.log('POST to [' + urlVoiceRss + '] completed');\n    })\n}\n\n/**\n * Get Voice RSS Language Code \n * @param {*} _locale   Locale Code used in this app\n */\nexport const getVoiceRssLang = (_locale) => {\n    if (_locale) {\n        return _locale;\n    } else {\n        return 'en-US';\n    }\n}","import React, { Component}  from 'react';\nimport { Page, Toolbar, ToolbarButton, List, ListItem, Range, Row, Col, Input, Modal, ProgressCircular, AlertDialog, Button } from 'react-onsenui';\n// import { LANG_NONE, LANG_ZH_HK, LANG_ZH_TW, LANG_EN } from './DictEzApp.js';\nimport { VOICE_RSS_API_KEY } from './config.js';\nimport { callVoiceRss } from './TtsService.js';\n\n// Webpack CSS import\nimport 'onsenui/css/onsenui.css';\nimport '../onsenui/css/onsen-css-components.min.css';\nimport '../onsenui/css/theme.css';\n\n// Constant values for Instruction Messages\nconst TOOLBAR_MSG_INIT = '按此播放';\n\n// Constant Numeric Values for configuration\nconst DEFAULT_SPEECH_SPEED = 50;\nconst VOICE_BYTE_LIMIT = 90000;\n\n// Function to count the number of bytes of a given String\nconst countBytes = (str) => encodeURI(str).split(/%..|./).length - 1;\n\n/**\n * TTS Page Component\n */\nclass TtsPage extends Component {\n    /**\n     * Default Constructor\n     * @param {*} props     Inbound Properties\n     */\n    constructor(props) {\n        super(props);\n        if (this.props.ttsContent) {\n            // Split Content Text with newline\n            this.state = {\n                toolbar_msg: TOOLBAR_MSG_INIT\n                , ttsContents: this.props.ttsContent.trim().split(/\\r?\\n/)\n                , speechSpeed: DEFAULT_SPEECH_SPEED\n                , isPostingTts: false\n                , errorTitle: ''\n                , errorContent: ''\n            };\n        } else {\n            this.state = {\n                toolbar_msg: TOOLBAR_MSG_INIT\n                , ttsContents: []\n                , speechSpeed: DEFAULT_SPEECH_SPEED\n                , isPostingTts: false\n                , errorTitle: ''\n                , errorContent: ''\n            };\n        }\n\n        this.handleReset = this.handleReset.bind(this);\n        this.handleBackHome = this.handleBackHome.bind(this);\n        this.handlePlay = this.handlePlay.bind(this);\n        this.handlePlayAll = this.handlePlayAll.bind(this);\n        this.handleUpdateItem = this.handleUpdateItem.bind(this);\n        this.handleMoveItem = this.handleMoveItem.bind(this);\n        this.handleErrorDialogCancel = this.handleErrorDialogCancel.bind(this);\n\n        this.processTtsContent = this.processTtsContent.bind(this);\n        this.processTtsError = this.processTtsError.bind(this);\n\n        this.playVoice = this.playVoice.bind(this);\n    }\n\n    /**\n     * Reset all state values to the default ones\n     */\n    resetAll() {\n        if (this.props.ttsContent) {\n            // Split Content Text with newline\n            this.setState({\n                ttsContents: this.props.ttsContent.trim().split(/\\r?\\n/)\n                , speechSpeed: DEFAULT_SPEECH_SPEED\n                , isPostingTts: false\n                , errorTitle: ''\n                , errorContent: ''\n            });\n        } else {\n            this.setState({\n                ttsContents: []\n                , speechSpeed: DEFAULT_SPEECH_SPEED\n                , isPostingTts: false\n                , errorTitle: ''\n                , errorContent: ''\n            });\n        }        \n    }\n\n    /**\n     * Event Handler of requesting Back Home\n     * @param {*} _event \n     */\n    handleBackHome(_event) {\n        this.resetAll();\n        this.props.onBackToHome();\n    }\n\n    /**\n     * Event Handler of requesting Reset\n     * @param {*} _event \n     */\n    handleReset(_event) {\n        this.resetAll();\n    }\n\n    /**\n     * Event Handler of requesting TTS on the given text and playing the TTS voice\n     * @param {*} _event        Event of this handler\n     * @param {*} _sentence     Text to be converted to Speech\n     */\n    handlePlay(_event, _sentence) {\n        if (this.state.isPostingTts) {\n            // Posting to TTS in progress\n            console.log('Posting to TTS in progress rejects a new coming request.');\n            this.setState({\n                errorTitle: '語音轉換異常'\n                , errorContent: '語音轉換進行中，請稍候。'\n            });\n        } else {\n            this.setState({\n                isPostingTts: true\n            });\n            callVoiceRss(\n                VOICE_RSS_API_KEY\n                , this.props.lang\n                , _sentence\n                , Math.floor(this.state.speechSpeed / 5.0) - 10\n                , this.processTtsContent\n                , this.processTtsError\n            );    \n        }\n    }\n\n    /**\n     * Event Handler of requesting TTS on all texts and playing the TTS voice\n     * @param {*} _event    Event of this handler\n     */\n    handlePlayAll(_event) {\n        this.playFromArray(this.state.ttsContents.slice());\n    }\n\n    /**\n     * Request TTS of all the given texts until the buffer is over limit\n     * @param {*} arrContents   Array of given texts\n     */\n    playFromArray(arrContents) {\n        var voiceContent = \"\";\n        if (typeof arrContents !== undefined && arrContents !== null && arrContents.length > 0) {\n            while (arrContents.length > 0 &&\n                    countBytes(voiceContent + \"\\n\" + arrContents[0]) <= VOICE_BYTE_LIMIT) {\n              voiceContent += \"\\n\" + arrContents.shift();\n            }\n        }\n        if (voiceContent.trim() !== \"\") {\n            callVoiceRss(\n                VOICE_RSS_API_KEY\n                , this.props.lang\n                , voiceContent\n                , Math.floor(this.state.speechSpeed / 5.0) - 10\n                , (_response) => {\n                    if (typeof _response !== undefined && _response !== null) {\n                        var respData = _response.data;\n                        if (respData.startsWith(\"ERROR\")) {\n                          console.log(\"Speech can't be played. Please try next time.\");\n                          console.log(respData);\n                          this.setState({\n                            isPostingTts: false\n                            , errorTitle: '語音轉換異常'\n                            , errorContent: JSON.stringify(respData)\n                          }); \n                        } else {\n                          let playResult = this.playVoice(respData);\n                          if (!playResult) {\n                            console.log(\"Speech can't be played. Please try next time.\");\n                            this.setState({\n                                isPostingTts: false\n                                , errorTitle: '播放語音異常'\n                                , errorContent: '播放語音異常，請重試。'\n                            });                             \n                          } else {\n                              this.playFromArray(arrContents);\n                          }\n                        }\n                    } else {\n                        console.log(\"Speech can't be played. Please try next time.\");\n                        this.setState({\n                            isPostingTts: false\n                            , errorTitle: '語音轉換異常'\n                            , errorContent: '語音播放異常，請重試。'\n                        });                         \n                    }\n                }\n                , (_error) => {\n                    console.log(_error);\n                    this.setState({\n                        isPostingTts: false\n                        , errorTitle: '語音轉換異常'\n                        , errorContent: JSON.stringify(_error)\n                    });                    \n                }\n            ); \n        }\n    }\n\n    /**\n     * Event Handler of Updating text content of a List Item\n     * @param {*} _event    Event of this handler\n     * @param {*} _idx      Index value of the List Item in the List\n     */\n    handleUpdateItem(_event, _idx) {\n        this.setState(prevState => {\n            const arrContent = prevState.ttsContents.map((item, idx) => {\n                if (idx === _idx) {\n                    return _event.target.value;\n                } else {\n                    return item;\n                }\n            });\n            return {\n                ttsContents: arrContent\n            };\n        });\n    }\n\n    /**\n     * Event Handler of moving text content of a List Item along the List\n     * @param {*} _event    Event of this handler\n     * @param {*} _idx      Current Index value of the List Item in the List\n     * @param {*} _step     Step to move. Positive to down. Negative to up.\n     */\n    handleMoveItem(_event, _idx, _step) {\n        if (_idx + _step < 0 || _idx + _step >= this.state.ttsContents.length) {\n            console.log(\"Invalid Movement.\");\n            return; // Invalid movement\n        } else {\n            var thisValue = this.state.ttsContents[_idx];\n            var nextValue = this.state.ttsContents[_idx + _step];\n            this.setState(prevState => {\n                const arrContent = prevState.ttsContents.map((item, idx) => {\n                    if (idx === _idx) {\n                        return nextValue;\n                    } else if (idx === (_idx + _step)) {\n                        return thisValue;\n                    } else {\n                        return item;\n                    }\n                });\n                return {\n                    ttsContents: arrContent\n                };\n            });            \n        }\n    }\n\n    /**\n     * Function routine when TTS Content Response is successfully received\n     * @param {*} _response     Response Object\n     */\n    processTtsContent(_response) {\n        if (typeof _response !== undefined && _response !== null) {\n            var respData = _response.data;\n            if (respData.startsWith(\"ERROR\")) {\n              console.log(\"Speech can't be played. Please try next time.\");\n              console.log(respData);\n              this.setState({\n                isPostingTts: false\n                , errorTitle: '語音轉換異常'\n                , errorContent: JSON.stringify(respData)\n              }); \n            } else {\n              let playResult = this.playVoice(respData);\n              if (!playResult) {\n                console.log(\"Speech can't be played. Please try next time.\");\n                this.setState({\n                    isPostingTts: false\n                    , errorTitle: '播放語音異常'\n                    , errorContent: '播放語音異常，請重試。'\n                }); \n              }                \n            }\n        } else {\n            console.log(\"Speech can't be played. Please try next time.\");\n            this.setState({\n                isPostingTts: false\n                , errorTitle: '語音轉換異常'\n                , errorContent: '語音播放異常，請重試。'\n            }); \n        }\n        this.setState({\n            isPostingTts: false\n        });        \n    }\n\n    /**\n     * Function routine when an error happens in processing TTS Content\n     * @param {*} _error    Error Object\n     */\n    processTtsError(_error) {\n        console.log(_error);\n        this.setState({\n            isPostingTts: false\n            , errorTitle: '語音轉換異常'\n            , errorContent: JSON.stringify(_error)\n        });\n    }\n\n    /**\n     * Play the given voice content\n     * @param {*} _voiceContent     Voice Content encoded in Base 64\n     */\n    playVoice(_voiceContent) {\n        var audio = document.querySelector(\"#audioPlayback\");\n        if (!audio.src || audio.paused || audio.ended) {\n            audio.src = _voiceContent;\n            audio.load();\n            var playPromise = audio.play();\n            if (playPromise !== undefined) {\n                playPromise.then(function() {\n                    console.log(\"Automatic playback started!\");\n                }).catch(function(error) {\n                    console.log(error);\n                    this.setState({\n                        isPostingTts: false\n                        , errorTitle: '播放語音異常'\n                        , errorContent: JSON.stringify(error)\n                    });                    \n                });\n            } else {\n                console.log(\"audio returns undefined.\");\n                this.setState({\n                    isPostingTts: false\n                    , errorTitle: '播放語音異常'\n                    , errorContent: '未能返回語音。'\n                });                \n            }\n            return playPromise;            \n        } else {\n            console.log(\"audio element is not available.\");\n            this.setState({\n                isPostingTts: false\n                , errorTitle: '播放語音異常'\n                , errorContent: '未能產生語音元件。'\n            });             \n        }\n        return null; \n    }\n\n    /**\n     * Event Handler of cancelling an error dialog box\n     * @param {*} _event    Event of this handler \n     */\n    handleErrorDialogCancel(_event) {\n        if (this.state.errorTitle.length > 0) {\n            this.setState({\n                errorTitle: ''\n                , errorContent: ''\n            });\n        }\n    }\n\n    /**\n     * React JS Render function\n     */\n    render() {\n        return(\n<Page renderToolbar={() =>\n    <Toolbar>\n        <div className=\"left\">\n            <ToolbarButton onClick={this.handleBackHome}><i className=\"zmdi zmdi-home\"></i></ToolbarButton>\n        </div>        \n        <div className=\"center\" onClick={this.handlePlayAll}>\n{ this.state.toolbar_msg }<i className=\"zmdi zmdi-play-circle\"></i>\n        </div>\n        <div className=\"right\">\n            <ToolbarButton onClick={this.handleReset}><i className=\"zmdi zmdi-refresh\"></i></ToolbarButton>\n        </div>\n    </Toolbar>\n}>\n    <Modal isOpen={this.state.isPostingTts}>\n      <p>Loading ...</p>\n      <ProgressCircular indeterminate />\n    </Modal>\n    <AlertDialog\n        isOpen={this.state.errorTitle.length > 0}\n        onCancel={this.handleErrorDialogCancel}        \n        cancelable\n        >\n        <div className=\"alert-dialog-title\"\n            onClick={this.handleErrorDialogCancel}\n        ><b>{this.state.errorTitle}</b></div>\n        <div className=\"alert-dialog-content\">{this.state.errorContent}</div>\n        <div className=\"alert-dialog-footer\">\n            <Button onClick={this.handleErrorDialogCancel} className=\"alert-dialog-button\">Ok</Button>\n        </div>\n   </AlertDialog>\n    <Row>\n        <Col width=\"20%\" verticalAlign=\"center\" style={{ 'textAlign': \"right\" }}>\n            <i className=\"zmdi zmdi-bike\" />Slow\n        </Col>\n        <Col width=\"60^\">\n        <Range modifier=\"material\"\n                style={{width: \"100%\"}}\n                value={this.state.speechSpeed}\n                onChange={(event) => this.setState({speechSpeed: parseInt(event.target.value)})}\n        />\n        </Col>\n        <Col width=\"20%\" verticalAlign=\"center\" style={{ 'textAlign': \"left\" }}>\n            <i className=\"zmdi zmdi-airplane\" />Fast\n        </Col>\n    </Row>\n    <Row><Col>\n        <audio id=\"audioPlayback\" controls src=\"\"></audio>\n    </Col></Row>\n    <Row><Col>\n        <List\n            dataSource={ this.state.ttsContents }\n            renderRow={(row, idx) => (\n                <ListItem key={\"contentItem-\" + idx} modifier={idx === this.state.ttsContents.length - 1 ? 'longdivider' : null}>\n                <div className=\"left\" onClick={(_event) => { this.handlePlay(_event, row); }}>\n                    <i className=\"zmdi zmdi-play-circle\" style={{\"fontSize\": \"1.5em\"}}></i>\n                </div>\n                <div className=\"center\">\n                    <Input type=\"text\" modifier='transparent' style={{ 'width': \"100%\" }} value={row} onChange={(_event) => this.handleUpdateItem(_event, idx)} float></Input>\n                </div>\n                <div className=\"right\">\n                    <i className=\"zmdi zmdi-caret-up-circle\" style={{\"fontSize\": \"1.5em\"}} onClick={(_event) => {this.handleMoveItem(_event, idx, -1)}}></i>\n                    &nbsp;\n                    <i className=\"zmdi zmdi-caret-down-circle\" style={{\"fontSize\": \"1.5em\"}} onClick={(_event) => {this.handleMoveItem(_event, idx, 1)}}></i>\n                </div>\n                </ListItem>\n            )}\n        />\n    </Col></Row>\n</Page>\n        );\n    }\n}\n\n// Default exported component\nexport default TtsPage;","import React, { Component}  from 'react';\nimport { Page } from 'react-onsenui';\n\n// Application Page components\nimport OcrPage from './OcrPage.js';\nimport TtsPage from './TtsPage.js';\n\n// Constant values across the application\nexport const [ LANG_NONE, LANG_ZH_HK, LANG_ZH_TW, LANG_EN ] = [ \"\", \"zh-hk\", \"zh-tw\", \"en-gb\" ];\n\n/**\n * Main Application Page for Dictation EZ\n * @author Teki Chan\n * @since 25 Jan 2019\n */\nclass DictEzApp extends Component {\n    /**\n     * Default Constructor\n     * @param {*} props     Inbound Properties\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            lang: LANG_NONE\n            , ttsContent: ''\n        }\n        this.resetAll = this.resetAll.bind(this);\n        this.changeToTtsPage = this.changeToTtsPage.bind(this);\n        this.backToOcrPage = this.backToOcrPage.bind(this);\n    }\n\n    /**\n     * Call this method when changing to TTS Page\n     * @param {*} _lang     Selected Language\n     * @param {*} _textContent  Text Content parsed by OCR\n     */\n    changeToTtsPage(_lang, _textContent) {\n        this.setState({\n            lang: _lang\n            , ttsContent: _textContent\n        })\n    }\n\n    /**\n     * Call this method when going back to OCR Page (the first page)\n     */\n    backToOcrPage() {\n        this.resetAll();\n    }\n\n    /**\n     * Reset all state values to the default ones\n     */\n    resetAll() {\n        this.setState({\n            lang: LANG_NONE\n            , ttsContent: ''\n        })\n    }\n\n    /**\n     * React JS Render function\n     */\n    render() {\n        return(\n<Page id=\"MainPage\">\n{ this.state.ttsContent === '' &&\n    <OcrPage onOcrCompleted={this.changeToTtsPage}></OcrPage>\n}\n{ this.state.ttsContent &&\n    <TtsPage lang={this.state.lang} ttsContent={this.state.ttsContent} onBackToHome={this.backToOcrPage}></TtsPage>\n}\n</Page>\n        );\n    }\n}\n\n// Default exported component\nexport default DictEzApp;","import React, { Component}  from 'react';\nimport DictEzApp from './dict-ez/DictEzApp.js';\n\n/**\n * Default Application Main Component\n * <p>\n * This component is generated by \"Create React App\"\n */\nclass App extends Component {\n  /**\n   * React JS Render function\n   */\n  render() {\n    return (\n<DictEzApp></DictEzApp>\n    );\n  }\n}\n\n// Default exported component\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}